<ProductLookOut>
    name: "lookout"
    on_leave:
        buttons.opacity = .5 if app.login and not app.current else 1
        buttons.disabled = True if app.login and not app.current else False
        save.icon = "heart-outline"
    BoxLayout:
        orientation: "vertical"
        NoLinerToolBar:
            id: toolbar
            title: "Details"
            icon_left: "chevron-left"
            icon_right: "cart-variant"
            icon_left_callback: root.go_back
            icon_right_callback: root.enter_cart
        MDBoxLayout:
            padding: dp(20)
            spacing: dp(20)
            orientation: "vertical"
            MDCard:
                radius: [dp(25), dp(25), dp(10), dp(10)]
                spacing: dp(10)
                #padding: [0, 0, 0, dp(20)]
                orientation: "vertical"
                RelativeLayout:
                    MDCarousel:
                        md_bg_color: [1,1,1,1] if app.theme_cls.theme_style == "Light" else get_color_from_hex("1f1f1f")
                        radius: [dp(25), dp(25), dp(10), dp(10)]
                        pagnitors:[_0, _1, _2]
                        on_index: root.swipe_pagnitors(self, args[1])
                        FitImage:
                            id: image1
                            source: ""
                            radius: [dp(25), dp(25), dp(10), dp(10)]
                        FitImage:
                            id: image2
                            source: ""
                            radius: [dp(25), dp(25), dp(10), dp(10)]
                        FitImage:
                            id: image3
                            source: ""
                            radius: [dp(25), dp(25), dp(10), dp(10)]
                    FitImage:
                        source: "assets/image/shadow.png"
                        radius: [0, 0, dp(10), dp(10)]
                    MDBoxLayout:
                        adaptive_height: True
                        orientation: "vertical"
                        padding: dp(20)
                        spacing: dp(5)
                        M_AKLabelLoader:
                            id: product_name
                            text: ""
                            font_style: "Money"
                            radius: [dp(5)]
                            color: 1, 1, 1, 1
                            font_size: sp(20)
                            padding_x: dp(10)
                            adaptive_height: True
                        M_AKLabelLoader:
                            id: product_price
                            text: "----"
                            size_hint_y: None
                            height: dp(30) if not self.text else self.texture_size[1]
                            bold: True
                            color: 1, 1, 1, 1
                            radius: [dp(5)]
                            markup: True
                            padding_x: dp(10)

                        MDBoxLayout:
                            spacing: dp(40)
                            adaptive_size: True
                            pos_hint: {"center_x":.5}
                            ItemPagination
                                id: _0
                            ItemPagination:
                                id: _1
                                current_index: 1
                            ItemPagination:
                                id: _2
                                current_index: 2

            MDBoxLayout:
                id: down_box
                orientation: "vertical"
                spacing: dp(10)
                size_hint_y: .5
                MDBoxLayout:
                    md_bg_color: get_color_from_hex("#F1F1F1")
                    orientation: "vertical"
                    padding: dp(10)
                    spacing: dp(10)
                    radius: [dp(20)]
                    MDLabel:
                        text: "Description"
                        bold: True
                        italic: True
                        font_style: "Money"

                    M_AKLabelLoader:
                        id: description
                        text: ""
                        radius: [dp(5)]
                        pos_hint: {"center_x": .5}
                        font_style: "Money"
                        shorten: True

                MDBoxLayout:
                    adaptive_height: True
                    spacing: dp(10)
                    md_bg_color: 1, 1, 1, 1
                    radius: dp(20)
                    IconLabel:
                        text: "size"
                        icon: "aspect-ratio"
                        ic_bg_color: get_color_from_hex("#FF1744")
                        callback: lambda: root.dialog.open()
                    IconLabel:
                        text: "bargain"
                        icon: "message-processing"
                        ic_bg_color: get_color_from_hex("#4CAF50")
                    IconLabel:
                        text: "info"
                        icon: "information-variant"
                        ic_bg_color: .8, 0, 0, 1
                    IconLabel:
                        text: "policy"
                        icon: "police-badge-outline"
                        ic_bg_color: get_color_from_hex("#2962FF")


#                    MDCard:
#                        radius: [dp(10)]
#                        orientation: "vertical"
#                        size_hint_y: None
#                        height: self.minimum_height
#                        MDList:
#                            ThreeLineIconListItem:
#                                text: "Product Delivery"
#                                secondary_text: "Ready for delivery between 2 to 3 days "
#                                tertiary_text: "from the day you ordered"
#                                IconLeftWidget:
#                                    id: li_icon_3
#                                    icon: "truck-delivery-outline"
#                            ThreeLineIconListItem:
#                                text: "Return Policy"
#                                secondary_text: "Free return within a day and"
#                                tertiary_text: "Full Refund if you do not get your package delivered"
#                                divider: None
#                                IconLeftWidget:
#                                    id: li_icon_3
#                                    icon: "police-badge-outline"



        MDBoxLayout:
            id: buttons
            disabled: True if app.login else False
            opacity: .5 if app.login else 1
            adaptive_height: True
            padding: dp(10), dp(5), dp(10), dp(10)
            spacing: dp(10)
            MDCard:
                size_hint: None, None
                size: self.minimum_width, self.minimum_height
                radius: [dp(10)]
                MDIconButton:
                    id: save
                    icon: "phone"
                    theme_text_color: "Custom"
                    text_color: app.theme_cls.primary_color
                    on_release: root.call_customer_care()
            CardIconButton:
                md_bg_color: app.theme_cls.primary_color
                label_halign: "center"
                icon: "cart-variant"
                text: "ADD TO CART"
                font_style: "Money"
                icon_color: 1,1,1,1
                text_color: 1,1,1,1
                icon_width: root.width/2.5
                radius: dp(15)
                on_release:
                    toolbar.icon_right_color = [1,0,0,1]
                    root.add_to_cart()
            MDCard:
                size_hint: None, None
                size: self.minimum_width, self.minimum_height
                radius: [dp(10)]
                MDIconButton:
                    id: save
                    icon: "heart-outline"
                    theme_text_color: "Custom"
                    text_color: app.theme_cls.primary_color
                    on_release: root.save_unsave(self)
