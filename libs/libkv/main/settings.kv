<Setting>
    name: "setting"
    update: False
    on_enter:
        toolbar.ids.label_title.halign = "center"
        self.add_all_rules(rule1, rule2) if not self.update else None
        self.update = True

    BoxLayout:
        orientation:"vertical"
        MDToolbar:
            id: toolbar
            title: "Settings"
            left_action_items: [["arrow-left", lambda x: root.go_menu()]]
            specific_text_color: app.theme_cls.primary_color
            md_bg_color: [1,1,1,1] if app.theme_cls.theme_style == "Light" else get_color_from_hex("1f1f1f")

        ScrollView:
            effect_cls: ScrollEffect
            MDList:
                spacing: dp(25)
                padding: dp(10)
                MDCard:
                    id: rule1
                    orientation:"vertical"
                    radius: [dp(10)]
                    items:
                        {\
                        "My Details": "account-details",\
                        "Change Phone Number": "cellphone-cog",\
                        "Change Password": "account-edit"\
                        }
                    content: [Factory.DetailContent(), Factory.NumberContent(), Factory.PasswordContent()]
                    size_hint_y: None
                    height: self.minimum_height

                MDCard:
                    id: rule2
                    orientation:"vertical"
                    radius: [dp(10)]
                    items:
                        {\
                        "Dark Mode": "moon-waxing-crescent",\
                        "Rate Us": "star",\
                        }
                    content: [Factory.DarkModeContent(), Factory.RateContent()]
                    size_hint_y: None
                    height: self.minimum_height

<RateContent@MDBoxLayout>
    adaptive_height: True
    padding: dp(15)
    MDLabel:
        text: "How good is NocenStore??"
        font_style: "Money"

    AKRating:
        id: rates
        normal_icon: 'star-outline'
        active_icon: 'star'
        animation_type: 'grow'
        normal_color: app.theme_cls.disabled_hint_text_color
        active_color: app.theme_cls.primary_color

<DarkModeContent@MDBoxLayout>
    adaptive_height: True
    padding: [dp(20), dp(10), dp(20), dp(10)]
    MDLabel:
        text: "Turn Dark Mode On/Off"

    MDSwitch:
        pos_hint: {"center_x": .7, "center_y": .4}
        active: True if app.theme_cls.theme_style == "Dark" else False

<DetailContent@MDBoxLayout>:
    adaptive_height: True
    padding: "10dp"
    spacing: "20dp"
    orientation:"vertical"
    name: ""
    email: ""
    phone: ""
    MDLabel:
        text: f"Name: {root.name}"
        size_hint_y: None
        height: self.texture_size[1]

    MDLabel:
        text: f"Email: {root.email}"
        size_hint_y: None
        height: self.texture_size[1]

    MDLabel:
        text: f"Phone no: {root.phone}"
        size_hint_y: None
        height: self.texture_size[1]

<PasswordContent@MDBoxLayout>
    adaptive_height: True
    orientation: "vertical"
    padding: dp(10)
    spacing: dp(20)
    MDBoxLayout:
        adaptive_height: True
        spacing: dp(20)
        MDTextField:
            hint_text: "change password :"
        MDIconButton:
            icon: "check"
            theme_text_color: "Custom"
            text_color: app.theme_cls.primary_color

    MDBoxLayout:
        adaptive_height: True
        spacing: dp(20)
        MDTextField:
            hint_text: "confirm password :"
        MDIconButton:
            icon: "check"
            theme_text_color: "Custom"
            text_color: app.theme_cls.primary_color

<NumberContent@MDBoxLayout>
    adaptive_height: True
    padding: dp(10)
    spacing: dp(20)
    MDTextField:
        hint_text: "change phone number :"
    MDIconButton:
        icon: "check"
        theme_text_color: "Custom"
        text_color: app.theme_cls.primary_color
